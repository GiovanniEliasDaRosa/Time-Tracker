<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Options | Time Tracker</title>
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/full-page.css" />
    <link rel="stylesheet" href="../css/icons.css" />

    <link rel="stylesheet" href="css/options.css" />
    <link rel="stylesheet" href="css/notifications.css" />
    <link rel="stylesheet" href="css/new-day.css" />
    <link rel="stylesheet" href="css/data.css" />

    <script src="../js/shared/functions.js" defer="true"></script>
    <script src="../js/shared/Storage.js" defer="true"></script>
    <script src="../js/shared/MessageManager.js" defer="true"></script>
    <script src="../js/shared/Validator.js" defer="true"></script>

    <script src="js/Notifications.js" defer="true"></script>
    <script src="js/NewDay.js" defer="true"></script>
    <script src="js/Themes.js" defer="true"></script>
    <script src="js/DataManager.js" defer="true"></script>
    <script src="js/options.js" defer="true"></script>
  </head>
  <body>
    <main>
      <header>
        <h1>Options Page</h1>
        <button
          class="square icons chart_simple nomargin"
          id="summary_button"
          title="Go to summary page"
        ></button>
      </header>

      <div id="main_content">
        <!-- Notifications -->
        <section class="section_options notifications">
          <div class="section_options_header">
            <h2>Notifications</h2>
            <p>Manage how to sent if send notifications</p>
          </div>

          <div class="section_options_enable notifications_enable">
            <input
              type="checkbox"
              data-type="toggle"
              name="notifications_enable_checkbox"
              id="notifications_enable_checkbox"
            />
            <label for="notifications_enable_checkbox">Enable notifications</label>
          </div>

          <div class="section_options_more notifications_more_options">
            <div class="notifications_config notifications_frequency disabled">
              <label for="notifications_content_frequency">
                <span class="notifications_config_span_title">Frequency (in minutes)</span>
                How often to send the notification
              </label>
              <input
                type="number"
                min="1"
                max="1440"
                value="60"
                name="notifications_content_frequency"
                id="notifications_content_frequency"
              />
            </div>

            <div class="notifications_config notifications_content disabled">
              <label for="notifications_content_checkbox" class="notifications_content_label">
                <span class="notifications_config_span_title">Show top 3 spent time URLs</span>
                Include the top three domains/URLs by time in the notification
              </label>
              <input
                type="checkbox"
                data-type="toggle"
                name="notifications_content_checkbox"
                id="notifications_content_checkbox"
              />
            </div>
          </div>
        </section>

        <!-- New Day Start -->
        <section class="section_options new_day">
          <div class="section_options_header">
            <h2>New Day Start</h2>
            <p>Choose the hour to start a new day (relative to midnight)</p>
          </div>

          <div class="section_options_options slider_options">
            <p>
              Move left for hours before midnight (previus day).<br />
              Move right for hours after midnight (next day).<br />
              Steps are 1 hour each.
            </p>
            <div class="slider_options_slider">
              <input
                id="slider_options_slider_range"
                type="range"
                value="0"
                min="-12"
                max="12"
                step="1"
              />

              <div class="slider_options_slider_labels">
                <span data-order="0">12PM<br />12:00</span>
                <span data-order="2">03PM<br />15:00</span>
                <span data-order="1">06PM<br />18:00</span>
                <span data-order="2">09PM<br />21:00</span>
                <span data-order="0">12AM<br />00:00</span>
                <span data-order="2">03AM<br />03:00</span>
                <span data-order="1">06AM<br />06:00</span>
                <span data-order="2">09AM<br />09:00</span>
                <span data-order="0">12PM<br />12:00</span>
              </div>

              <span
                class="slider_options_slider_current"
                disabled="true"
                aria-disabled="true"
                style="display: none"
              ></span>
            </div>
          </div>

          <div class="section_options_enable input_enable">
            <input type="checkbox" data-type="toggle" id="input_manually" name="input_manually" />
            <label for="input_manually">Input number</label>
          </div>

          <div class="section_options_more input_more_options">
            <div class="input">
              <input
                type="number"
                min="-12"
                max="12"
                value="0"
                id="new_day_input_hours"
                name="new_day_input_hours"
              />
              <label for="new_day_input_hours"
                >Negative for before midnight and positive for after (e.g. -1 = 11PM/23:00)</label
              >
            </div>
          </div>
        </section>

        <!-- Theme -->
        <section class="section_options theme">
          <div class="section_options_header">
            <h2>Theme</h2>
            <p>Select theme as dark/light mode</p>
          </div>

          <div class="section_options_enable">
            <input
              type="checkbox"
              data-type="toggle"
              name="dark_theme_toggle"
              id="dark_theme_toggle"
            />
            <label for="dark_theme_toggle">Dark mode</label>
          </div>
        </section>

        <!-- Tutorial -->
        <section class="section_options tutorial">
          <div class="section_options_header">
            <h2>Tutorial</h2>
            <p>Lauch the tutorial again</p>
          </div>

          <div class="tutorial_options">
            <button class="icons play" id="tutorial_start">Start tutorial</button>
          </div>
        </section>

        <!-- Data: Export & Import -->
        <section class="section_options data">
          <div class="section_options_header">
            <h2>Data</h2>
            <p>Export, import, or delete all data</p>
          </div>

          <div class="section_options_tab_content">
            <!-- Button to open the tab -->
            <div class="data_tabs">
              <button class="data_tabs_buttons icons download nomargin" id="data_export_button">
                Export
              </button>
              <button class="data_tabs_buttons icons upload nomargin" id="data_import_button">
                Import
              </button>
              <button class="data_tabs_buttons icons trash nomargin" id="data_delete_button">
                Delete
              </button>
            </div>

            <!-- Tabs oppened by the buttons -->
            <div class="data_feedbacks" style="display: none" aria-disabled="true" disabled="true">
              <!-- Progress bar up top-->
              <div class="data_feedback_progress">
                <div class="data_feedback_progress_fill"></div>
              </div>

              <!-- Close feedback icon -->
              <button
                class="square_small icons xmark nomargin"
                title="Close feedback"
                id="data_feedbacks_close_feedback_button"
              ></button>

              <!-- Export steps -->
              <div
                class="data_feedback_export"
                style="display: none"
                aria-disabled="true"
                disabled="true"
              >
                <div class="data_feedbacks_step" data-step="0">
                  <h3>What do you want to export?</h3>

                  <div class="data_feedbacks_step_options">
                    <label class="data_feedbacks_step_options_option" for="data_time_checkbox">
                      <input type="checkbox" name="data_time_checkbox" id="data_time_checkbox" />
                      <span>Time</span>
                    </label>
                    <label class="data_feedbacks_step_options_option" for="data_config_checkbox">
                      <input
                        type="checkbox"
                        name="data_config_checkbox"
                        id="data_config_checkbox"
                      />
                      <span>Configurations</span>
                    </label>
                    <p class="data_feedbacks_step_error_message icons circle_exclamation"></p>
                  </div>
                </div>
                <div class="data_feedbacks_step" data-step="1">
                  <h3>Getting data</h3>
                </div>
                <div class="data_feedbacks_step" data-step="2">
                  <h3 class="icons thumbs_up">Exported with success!</h3>
                  <p>
                    Download should start automatically. If not, click the button to download
                    manually.
                  </p>
                  <button id="data_download_button" class="icons download_file">Download</button>
                </div>
              </div>

              <!-- Import steps -->
              <div
                class="data_feedback_import"
                style="display: none"
                aria-disabled="true"
                disabled="true"
              >
                <div class="data_feedbacks_step" data-step="0">
                  <h3>Import JSON file</h3>
                  <p class="data_feedbacks_step_error_message icons circle_exclamation"></p>
                  <div class="data_feedbacks_step_import_file_group">
                    <input
                      type="file"
                      name="data_import_file"
                      id="data_import_file"
                      style="display: none"
                    />
                    <label
                      class="section_options_button_not_full_width button icons upload_file"
                      for="data_import_file"
                      tabindex="0"
                      >Select file</label
                    >
                    <p
                      class="data_import_file_name"
                      style="display: none"
                      aria-disabled="true"
                      disabled="true"
                    >
                      Filename.png
                    </p>
                  </div>
                </div>

                <div class="data_feedbacks_step" data-step="1">
                  <h3>Reading <span class="data_feedbacks_step_file_name"></span></h3>
                </div>

                <div class="data_feedbacks_step" data-step="2">
                  <h3>What do you want to import?</h3>

                  <div class="data_feedbacks_step_options">
                    <label
                      class="data_feedbacks_step_options_option"
                      for="data_import_time_checkbox"
                    >
                      <input
                        type="checkbox"
                        name="data_import_time_checkbox"
                        id="data_import_time_checkbox"
                      />
                      <span>Time</span>
                    </label>
                    <label
                      class="data_feedbacks_step_options_option"
                      for="data_import_config_checkbox"
                    >
                      <input
                        type="checkbox"
                        name="data_import_config_checkbox"
                        id="data_import_config_checkbox"
                      />
                      <span>Configurations</span>
                    </label>
                    <p class="data_feedbacks_step_error_message icons circle_exclamation"></p>
                  </div>
                </div>

                <div class="data_feedbacks_step" data-step="3">
                  <h3>Getting data</h3>
                </div>

                <div class="data_feedbacks_step" data-step="4">
                  <h3>Checking conflicts</h3>
                </div>

                <div class="data_feedbacks_step" data-step="5">
                  <h3>Conflict found</h3>
                  <p>
                    There is an overlap in
                    <span class="data_feedbacks_step_date_conflict">10/10/2025</span>. How should it
                    be resolved?
                  </p>

                  <div class="data_feedbacks_step_options">
                    <label class="data_feedbacks_step_options_option" for="data_import_merge">
                      <input type="radio" name="data_import_conflict" id="data_import_merge" />

                      <span class="data_feedbacks_step_options_option_text">
                        <span class="data_feedbacks_step_options_option_text_title icons plus"
                          >Merge (Add together)</span
                        >
                        <span
                          >Sum times per domain and per day. <strong>No data lost.</strong></span
                        >
                      </span>
                    </label>
                    <label class="data_feedbacks_step_options_option" for="data_import_keep">
                      <input type="radio" name="data_import_conflict" id="data_import_keep" />

                      <span class="data_feedbacks_step_options_option_text">
                        <span class="data_feedbacks_step_options_option_text_title icons hard_drive"
                          >Keep local (Keep saved only)</span
                        >
                        <span
                          >Keep the extension's existing data.
                          <strong> Imported overlapping day will be ignored.</strong></span
                        >
                      </span>
                    </label>
                    <label class="data_feedbacks_step_options_option" for="data_import_replace">
                      <input type="radio" name="data_import_conflict" id="data_import_replace" />

                      <span class="data_feedbacks_step_options_option_text">
                        <span
                          class="data_feedbacks_step_options_option_text_title icons file_import"
                          >Replace with import (Keep import only)</span
                        >
                        <span
                          >Overwrite local overlapping days with the imported data.
                          <strong> Local data for the day will be replaced.</strong></span
                        >
                      </span>
                    </label>
                  </div>
                </div>

                <div class="data_feedbacks_step" data-step="6">
                  <h3>Importing</h3>
                </div>

                <div class="data_feedbacks_step" data-step="7">
                  <h3 class="icons thumbs_up">Imported with success!</h3>
                </div>
              </div>

              <!-- Delete steps -->
              <div
                class="data_feedback_delete"
                style="display: none"
                aria-disabled="true"
                disabled="true"
              >
                <div class="data_feedbacks_step" data-step="0">
                  <h3>What do you want to delete?</h3>
                  <p>
                    This action is permanent.
                    <strong class="data_feedbacks_step_no_undo">You cannot undo it.</strong>
                  </p>
                  <div class="data_feedbacks_step_options">
                    <label
                      class="data_feedbacks_step_options_option"
                      for="data_delete_time_checkbox"
                    >
                      <input
                        type="checkbox"
                        name="data_delete_time_checkbox"
                        id="data_delete_time_checkbox"
                      />
                      <span>Time</span>
                    </label>
                    <label
                      class="data_feedbacks_step_options_option"
                      for="data_delete_config_checkbox"
                    >
                      <input
                        type="checkbox"
                        name="data_delete_config_checkbox"
                        id="data_delete_config_checkbox"
                      />
                      <span>Configurations</span>
                    </label>
                    <p class="data_feedbacks_step_error_message icons circle_exclamation"></p>
                  </div>
                </div>
                <div class="data_feedbacks_step" data-step="1">
                  <h3 class="icons triangle_exclamation">Confirm deletion</h3>
                  <p>
                    Type in the input below
                    <span class="data_feedbacks_step_confirm_wanted_value">confirm deletion</span>
                  </p>
                  <input
                    type="text"
                    name="data_delete_confirm_input"
                    id="data_delete_confirm_input"
                    class="section_options_button_not_full_width"
                    autocomplete="off"
                  />
                  <p class="data_feedbacks_step_error_message icons circle_exclamation"></p>
                </div>
                <div class="data_feedbacks_step" data-step="2">
                  <h3>
                    Deleting
                    <span class="data_feedbacks_step_selected_options"
                      >Time and configurations</span
                    >
                  </h3>
                </div>
                <div class="data_feedbacks_step" data-step="3">
                  <h3>
                    Successfully deleted:
                    <span class="data_feedbacks_step_selected_options"
                      >Time and configurations</span
                    >
                  </h3>
                </div>
              </div>

              <button class="icons forward_step icons_after" id="data_feedbacks_next_step_button">
                Next
              </button>
            </div>
          </div>
        </section>
      </div>

      <footer class="full-width">
        <div class="footer_div">
          <div class="footer_div_logo">
            <img src="../img/icon.png" alt="Time Tracker Icon" />
            <p>Time Tracker</p>
          </div>
        </div>
      </footer>
    </main>
  </body>
</html>
